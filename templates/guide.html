{% extends "base.html" %}

{% block title %}CyberOrg - Руководство пользователя{% endblock %}

{% block content %}
<div class="container py-4">
    <div class="row">
        <div class="col-lg-3">
            <div class="card shadow mb-4 sticky-top" style="top: 20px;">
                <div class="card-header bg-primary text-white">
                    <h5 class="card-title mb-0">Содержание</h5>
                </div>
                <div class="card-body p-2">
                    <div class="list-group list-group-flush">
                        <a href="#intro" class="list-group-item list-group-item-action">Введение</a>
                        <a href="#students" class="list-group-item list-group-item-action">Работа с учениками</a>
                        <a href="#webinars" class="list-group-item list-group-item-action">Управление вебинарами</a>
                        <a href="#plans" class="list-group-item list-group-item-action">Создание планов обучения</a>
                        <a href="#import" class="list-group-item list-group-item-action">Импорт вебинаров</a>
                        <a href="#faq" class="list-group-item list-group-item-action">Часто задаваемые вопросы</a>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col-lg-9">
            <div class="card shadow mb-4">
                <div class="card-header bg-primary text-white">
                    <h4 class="card-title mb-0">Руководство пользователя CyberOrg</h4>
                </div>
                <div class="card-body">
                    <section id="intro" class="mb-5">
                        <h2 class="border-bottom pb-2 mb-4">Введение</h2>
                        <p>CyberOrg — это система для планирования и организации обучения учеников. Основная цель системы — помочь кураторам эффективно составлять индивидуальные планы обучения для учеников, отслеживать их прогресс и оптимизировать учебный процесс.</p>
                        
                        <div class="alert alert-info mt-3">
                            <h5><i class="fas fa-info-circle me-2"></i> Основные возможности системы:</h5>
                            <ul class="mb-0">
                                <li>Добавление и управление учениками</li>
                                <li>Создание индивидуальных планов обучения</li>
                                <li>Отслеживание прогресса по просмотренным вебинарам</li>
                                <li>Управление базой вебинаров</li>
                                <li>Импорт вебинаров из Excel-файлов</li>
                                <li>Автоматический подбор вебинаров на основе уровня и целей ученика</li>
                            </ul>
                        </div>
                    </section>
                    
                    <section id="students" class="mb-5">
                        <h2 class="border-bottom pb-2 mb-4">Работа с учениками</h2>
                        
                        <h4 class="mt-4 mb-3">Просмотр списка учеников</h4>
                        <p>На странице "Ученики" вы можете увидеть список всех учеников, добавленных в систему. Для каждого ученика отображается основная информация: ID на платформе, имя, фамилия, целевой балл и уровень подготовки.</p>
                        
                        <h4 class="mt-4 mb-3">Добавление нового ученика</h4>
                        <p>Для добавления нового ученика нажмите кнопку "Добавить ученика" на странице списка учеников. На форме заполните все необходимые поля:</p>
                        <ul>
                            <li><strong>Имя и фамилия</strong> — персональные данные ученика</li>
                            <li><strong>ID на платформе</strong> — уникальный идентификатор ученика</li>
                            <li><strong>Целевой балл</strong> — желаемый результат ЕГЭ (влияет на подбор вебинаров)</li>
                            <li><strong>Часов в неделю</strong> — планируемое время на подготовку</li>
                            <li><strong>Уровень подготовки</strong> — текущие знания и навыки ученика</li>
                        </ul>
                        
                        <h4 class="mt-4 mb-3">Профиль ученика</h4>
                        <p>На странице профиля ученика вы можете:</p>
                        <ul>
                            <li>Просматривать и редактировать информацию об ученике</li>
                            <li>Отмечать известные ученику задания</li>
                            <li>Просматривать список планов обучения</li>
                            <li>Просматривать список просмотренных вебинаров</li>
                            <li>Создавать новые планы обучения</li>
                        </ul>
                    </section>
                    
                    <section id="webinars" class="mb-5">
                        <h2 class="border-bottom pb-2 mb-4">Управление вебинарами</h2>
                        
                        <h4 class="mt-4 mb-3">Просмотр вебинаров</h4>
                        <p>На странице "Вебинары" вы можете увидеть все доступные вебинары в системе. Для каждого вебинара отображается название, дата, связанные номера заданий, категория, тип решения и уровень подготовки.</p>
                        
                        <h4 class="mt-4 mb-3">Фильтрация вебинаров</h4>
                        <p>Вы можете фильтровать вебинары по различным критериям:</p>
                        <ul>
                            <li>Текстовый поиск по названию</li>
                            <li>Фильтр по уровню подготовки (Python с нуля, Основной курс, Хард прога, Задание 27)</li>
                        </ul>
                        
                        <h4 class="mt-4 mb-3">Отметка о просмотре вебинара</h4>
                        <p>Для отметки вебинара как просмотренного, перейдите на страницу плана обучения ученика и нажмите кнопку "Отметить" рядом с нужным вебинаром. Вебинар будет помечен как просмотренный, и информация будет сохранена в профиле ученика.</p>
                    </section>
                    
                    <section id="plans" class="mb-5">
                        <h2 class="border-bottom pb-2 mb-4">Создание планов обучения</h2>
                        
                        <h4 class="mt-4 mb-3">Создание нового плана</h4>
                        <p>Для создания нового плана обучения, перейдите на страницу профиля ученика и нажмите кнопку "Создать план". Система автоматически подберет рекомендуемые вебинары на основе целевого балла и уровня подготовки ученика.</p>
                        
                        <h4 class="mt-4 mb-3">Рекомендуемые вебинары</h4>
                        <p>Система подбирает вебинары на ближайшие 5 недель, учитывая:</p>
                        <ul>
                            <li>Целевой балл ученика</li>
                            <li>Текущий уровень подготовки</li>
                            <li>Количество часов в неделю</li>
                            <li>Уже просмотренные вебинары</li>
                            <li>Известные ученику задания</li>
                        </ul>
                        
                        <h4 class="mt-4 mb-3">Настройка плана</h4>
                        <p>Вы можете настроить план обучения:</p>
                        <ul>
                            <li>Отметить или снять отметки с рекомендованных вебинаров</li>
                            <li>Добавить дополнительные вебинары из общего списка</li>
                            <li>Распределить вебинары по неделям (от 1 до 5)</li>
                            <li>Сохранить план для дальнейшего использования</li>
                        </ul>
                        
                        <h4 class="mt-4 mb-3">Просмотр и редактирование плана</h4>
                        <p>На странице плана обучения вы можете:</p>
                        <ul>
                            <li>Просматривать распределение вебинаров по неделям</li>
                            <li>Отмечать вебинары как просмотренные</li>
                            <li>Редактировать план (добавлять/удалять вебинары, менять недели)</li>
                            <li>Распечатать план для ученика</li>
                            <li>Отметить все вебинары как просмотренные</li>
                            <li>Удалить план при необходимости</li>
                        </ul>
                    </section>
                    
                    <section id="import" class="mb-5">
                        <h2 class="border-bottom pb-2 mb-4">Импорт вебинаров</h2>
                        
                        <h4 class="mt-4 mb-3">Загрузка вебинаров из Excel</h4>
                        <p>Для импорта вебинаров из Excel-файла перейдите на страницу "Импорт вебинаров" и загрузите файл в правильном формате.</p>
                        
                        <h4 class="mt-4 mb-3">Формат Excel-файла</h4>
                        <p>Excel-файл должен содержать следующие столбцы:</p>
                        <ul>
                            <li><strong>название вебинара</strong> — название вебинара</li>
                            <li><strong>ссылка на вебинар</strong> — URL вебинара</li>
                            <li><strong>дата вебинара</strong> — дата в формате ГГГГ-ММ-ДД</li>
                            <li><strong>номера заданий</strong> — список номеров заданий (например, "1, 2, 5")</li>
                            <li><strong>решение прогой или руками</strong> — "прогой" или "руками"</li>
                            <li><strong>номер дз</strong> — номер домашнего задания (опционально)</li>
                            <li><strong>категория</strong> — 1 (обязательный), 2 (повторение) или 3 (необязательный)</li>
                            <li><strong>категория курса</strong> — "Python с нуля", "основной курс", "хард прога", "задание 27"</li>
                            <li><strong>комментарий</strong> — дополнительная информация (опционально)</li>
                        </ul>
                        
                        <p>Вы можете скачать шаблон Excel-файла для заполнения вебинарами на странице импорта.</p>
                    </section>
                    
                    <section id="faq" class="mb-5">
                        <h2 class="border-bottom pb-2 mb-4">Часто задаваемые вопросы</h2>
                        
                        <div class="accordion" id="faqAccordion">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="faq1">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqAnswer1" aria-expanded="false" aria-controls="faqAnswer1">
                                        Как система подбирает вебинары для ученика?
                                    </button>
                                </h2>
                                <div id="faqAnswer1" class="accordion-collapse collapse" aria-labelledby="faq1" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        Система анализирует уровень подготовки ученика, целевой балл, уже просмотренные вебинары и известные задания. На основе этих данных алгоритм подбирает оптимальный набор вебинаров для изучения на ближайшие 5 недель, распределяя их по важности и сложности.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="faq2">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqAnswer2" aria-expanded="false" aria-controls="faqAnswer2">
                                        Что делать, если ученик уже просмотрел некоторые вебинары?
                                    </button>
                                </h2>
                                <div id="faqAnswer2" class="accordion-collapse collapse" aria-labelledby="faq2" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        Вы можете отметить вебинары как просмотренные на странице плана обучения. Просмотренные вебинары будут отображаться в профиле ученика и не будут рекомендованы для просмотра в новых планах обучения.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="faq3">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqAnswer3" aria-expanded="false" aria-controls="faqAnswer3">
                                        Как отметить, что ученик знает определенные задания?
                                    </button>
                                </h2>
                                <div id="faqAnswer3" class="accordion-collapse collapse" aria-labelledby="faq3" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        На странице профиля ученика есть раздел "Известные задания", где вы можете отметить галочками номера заданий, которые ученик уже знает. После сохранения эта информация будет учитываться при составлении планов обучения.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="faq4">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqAnswer4" aria-expanded="false" aria-controls="faqAnswer4">
                                        Когда нужно создавать новый план обучения?
                                    </button>
                                </h2>
                                <div id="faqAnswer4" class="accordion-collapse collapse" aria-labelledby="faq4" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        Рекомендуется создавать новый план обучения после завершения текущего плана (обычно через 5 недель) или при существенном изменении уровня подготовки ученика. Система уведомит вас, если план устарел (создан более 5 недель назад).
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="faq5">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqAnswer5" aria-expanded="false" aria-controls="faqAnswer5">
                                        Как работает автоматическая отметка известных заданий?
                                    </button>
                                </h2>
                                <div id="faqAnswer5" class="accordion-collapse collapse" aria-labelledby="faq5" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        Когда ученик просматривает все вебинары, связанные с определенным номером задания, система автоматически отмечает это задание как изученное в профиле ученика. Это помогает отслеживать прогресс и правильно планировать дальнейшее обучение.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Плавная прокрутка к разделам при клике на ссылки оглавления
        const links = document.querySelectorAll('.list-group-item-action');
        links.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                
                window.scrollTo({
                    top: targetElement.offsetTop - 20,
                    behavior: 'smooth'
                });
            });
        });
        
        // Активация ссылок при прокрутке к разделам
        window.addEventListener('scroll', function() {
            const sections = document.querySelectorAll('section');
            let currentSection = '';
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 100;
                const sectionHeight = section.offsetHeight;
                
                if (window.pageYOffset >= sectionTop && window.pageYOffset < sectionTop + sectionHeight) {
                    currentSection = '#' + section.getAttribute('id');
                }
            });
            
            links.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === currentSection) {
                    link.classList.add('active');
                }
            });
        });
    });
</script>
{% endblock %} 